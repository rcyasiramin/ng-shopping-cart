"use strict";(self.webpackChunkng_shopping_cart=self.webpackChunkng_shopping_cart||[]).push([["src_app_features_cart_pages_resume_resume_module_ts"],{4596:(S,m,r)=>{r.r(m),r.d(m,{ResumeModule:()=>a});var p=r(9706),t=r(2560),d=r(1527),l=r(4666),g=r(4522),h=r(2876),f=r(4338);function y(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"a",13),t.NdJ("click",function(){t.CHM(e);const s=t.oxw();return t.KtG(s.emptyShoppingCart())}),t._uU(1," Empty your cart "),t.qZA()}}function _(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"product-tile",15),t.NdJ("onRemoveProduct",function(){const R=t.CHM(e).$implicit,A=t.oxw(2);return t.KtG(A.removeProductFromCart(R.id))})("onChangeQuantity",function(){t.CHM(e);const s=t.oxw(2);return t.KtG(s.changeQuantity())}),t.qZA()}if(2&n){const e=o.$implicit;t.Q6J("position",o.index+1)("product",e)("quantity",e.quantity)}}function x(n,o){if(1&n&&(t.ynx(0),t.YNc(1,_,1,3,"product-tile",14),t.BQk()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",e.cartProducts)}}const T=function(){return["/"]};function C(n,o){1&n&&(t.TgZ(0,"div",16)(1,"span"),t._uU(2," There are no products in your shopping cart "),t.qZA(),t.TgZ(3,"p"),t._uU(4,"Add products by clicking "),t.TgZ(5,"a",17),t._uU(6,"HERE"),t.qZA()()()),2&n&&(t.xp6(5),t.Q6J("routerLink",t.DdM(1,T)))}class u{constructor(o,e){this.cartService=o,this.router=e,this.cartProducts=[],this.discountPercentage=0,this.discount=0,this.total=0,this.subTotal=0}ngOnInit(){this.getCartProducts();const o=this.router.url,e=o.substring(o.indexOf("/",2)+1,o.length);this.cartService.changeStepData(e)}getCartProducts(){this.cartProducts=this.cartService.getCartProducts(),this.calculateSubTotal()}cartIsEmpty(){return 0===this.cartProducts.length}emptyShoppingCart(){this.cartService.emptyCart("clear")}changeQuantity(){this.calculateSubTotal()}removeProductFromCart(o){this.calculateSubTotal()}getDiscount(o){this.discountPercentage=o,this.discount=this.total*(o/100)}calculateEstimatedTotal(){return this.total=this.subTotal-this.discount,this.total}calculateSubTotal(){const o=this.cartProducts.map(e=>({price:e.price,quantity:e.quantity}));this.subTotal=o.reduce((e,c)=>e+c.price*c.quantity,0)}goToCheckout(){this.cartService.setPaymentData({total:this.total,subTotal:this.subTotal,discount:this.discount,discountPercentage:this.discountPercentage}),this.router.navigate(["/cart/checkout"])}}u.\u0275fac=function(o){return new(o||u)(t.Y36(d.Ni),t.Y36(p.F0))},u.\u0275cmp=t.Xpm({type:u,selectors:[["ng-component"]],decls:33,vars:20,consts:[[1,"resume-container"],[1,"products-container"],[1,"title"],[3,"click",4,"ngIf"],[4,"ngIf","ngIfElse"],[1,"goto-checkout"],[1,"coupon-container"],[3,"onDiscountPercentage"],[1,"order-informations"],[1,"estimated-total"],["id","value"],["mat-raised-button","","color","primary",3,"disabled","click"],["emptyCart",""],[3,"click"],[3,"position","product","quantity","onRemoveProduct","onChangeQuantity",4,"ngFor","ngForOf"],[3,"position","product","quantity","onRemoveProduct","onChangeQuantity"],[1,"empty-cart"],[3,"routerLink"]],template:function(o,e){if(1&o&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2"),t._uU(4,"Cart Products"),t.qZA(),t.YNc(5,y,2,0,"a",3),t.qZA(),t.YNc(6,x,2,1,"ng-container",4),t.qZA(),t.TgZ(7,"div",5)(8,"div",6)(9,"discount-field",7),t.NdJ("onDiscountPercentage",function(s){return e.getDiscount(s)}),t.qZA()(),t.TgZ(10,"div",8)(11,"span"),t._uU(12," Subtotal: "),t.TgZ(13,"strong"),t._uU(14),t.ALo(15,"currency"),t.qZA()(),t.TgZ(16,"span"),t._uU(17," Discount: "),t.TgZ(18,"strong"),t._uU(19),t.ALo(20,"currency"),t.qZA(),t.TgZ(21,"small"),t._uU(22),t.qZA()(),t.TgZ(23,"div",9)(24,"span"),t._uU(25,"Total"),t.qZA(),t.TgZ(26,"span",10),t._uU(27),t.ALo(28,"currency"),t.qZA()()(),t.TgZ(29,"button",11),t.NdJ("click",function(){return e.goToCheckout()}),t._uU(30," CHECKOUT "),t.qZA()()(),t.YNc(31,C,7,2,"ng-template",null,12,t.W1O)),2&o){const c=t.MAs(32);t.xp6(5),t.Q6J("ngIf",!e.cartIsEmpty()),t.xp6(1),t.Q6J("ngIf",!e.cartIsEmpty())("ngIfElse",c),t.xp6(8),t.Oqu(t.Dn7(15,8,e.subTotal,"USD","symbol")),t.xp6(5),t.hij(" ",t.Dn7(20,12,e.discount,"USD","symbol")," "),t.xp6(3),t.hij(" ",e.discountPercentage>0?"("+e.discountPercentage+"%)":""," "),t.xp6(5),t.hij(" ",t.Dn7(28,16,e.calculateEstimatedTotal(),"USD","symbol")," "),t.xp6(2),t.Q6J("disabled",e.cartIsEmpty())}},dependencies:[l.sg,l.O5,g.lW,p.rH,h.x,f.L,l.H9],styles:[".resume-container{display:grid;grid-template-columns:3fr 1fr;column-gap:50px}  .resume-container .products-container{position:relative;padding:16px!important;height:73vh;overflow-x:hidden;overflow-y:auto;display:flex;flex-direction:column;gap:10px}  .resume-container .products-container .title{display:flex;flex-direction:row;justify-content:space-between;align-items:center}  .resume-container .products-container .title h2{font-weight:700;margin:0}  .resume-container .products-container .title a{cursor:pointer;color:#006ac0}  .resume-container .products-container .empty-cart{width:100%;text-align:center;margin-top:70px}  .resume-container .products-container .empty-cart span{font-size:32px}  .resume-container .products-container .empty-cart p{margin-top:10px;font-size:16px}  .resume-container .products-container .empty-cart p a{color:#006ac0}  .resume-container .goto-checkout{max-width:350px;width:100%;max-height:275px;display:flex;flex-direction:column;justify-content:space-between;padding:16px}  .resume-container .goto-checkout .coupon-container{width:100%}  .resume-container .goto-checkout .order-informations{display:flex;flex-direction:column;align-items:flex-end;gap:5px}  .resume-container .goto-checkout .order-informations span{font-size:1rem}  .resume-container .goto-checkout .order-informations .estimated-total{height:50px;display:flex;align-items:center;gap:40px}  .resume-container .goto-checkout .order-informations .estimated-total span{font-size:1.5rem;font-weight:500}  .resume-container .goto-checkout .order-informations .estimated-total #value{font-weight:bolder}"]});const v=[{path:"",component:u}];class i{}i.\u0275fac=function(o){return new(o||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[p.Bz.forChild(v),p.Bz]});var Z=r(9575),P=r(4259);class a{}a.\u0275fac=function(o){return new(o||a)},a.\u0275mod=t.oAB({type:a}),a.\u0275inj=t.cJS({imports:[Z.m,i,P.CartModule]})}}]);