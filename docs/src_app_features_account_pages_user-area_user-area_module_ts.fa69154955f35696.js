"use strict";(self.webpackChunkng_shopping_cart=self.webpackChunkng_shopping_cart||[]).push([["src_app_features_account_pages_user-area_user-area_module_ts"],{7582:(_,p,s)=>{s.r(p),s.d(p,{UserAreaModule:()=>d});var f=s(9706),a=s(2508),Z=s(5243),e=s(2560),U=s(640),v=s(1527),x=s(3902),c=s(4666),I=s(7822),h=s(4522),y=s(1267),u=s(5074),T=s(4792),C=s(1798),g=s(446);function N(o,t){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," Name is "),e.TgZ(2,"strong"),e._uU(3,"required"),e.qZA()())}function q(o,t){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," Last name is "),e.TgZ(2,"strong"),e._uU(3,"required"),e.qZA()())}function F(o,t){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," Please enter a valid email address "),e.qZA())}function b(o,t){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," Email is "),e.TgZ(2,"strong"),e._uU(3,"required"),e.qZA()())}function E(o,t){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," Phone is "),e.TgZ(2,"strong"),e._uU(3,"required"),e.qZA()())}function w(o,t){if(1&o){const r=e.EpF();e.TgZ(0,"address-tile",23),e.NdJ("onEditAddress",function(l){const S=e.CHM(r).index,D=e.oxw();return e.KtG(D.onEditAddress(l,S))}),e.qZA()}2&o&&e.Q6J("addressData",t.$implicit)}class m{constructor(t,r,n,l){this.dialog=t,this.fb=r,this.authService=n,this.spinner=l,this.addresses=[]}ngOnInit(){this.user=this.authService.getUser().userInterface,this.addresses=this.authService.getUser().addresses,this.personalInfoForm=this.fb.group({name:[this.user.firstName,[a.kI.required]],lastName:[this.user.lastName,[a.kI.required]],email:[this.user.email,[a.kI.required,a.kI.email]],phone:[this.user.phone,[a.kI.required]],newsLetter:[!1]}),this.addressesForm=this.fb.group({addresses:this.fb.array([])}),(this.addresses??[]).forEach(t=>{this.addressesData.push(this.setAddress(t))})}get addressesData(){return this.addressesForm.controls.addresses}setAddress(t){const r=t.address.split(" - "),n=r[0],l=r[1]??"",A=r[r.length-1]??"";return this.fb.group({zipCode:[t.postalCode.trim(),[a.kI.required]],street:[n.trim(),[a.kI.required]],complement:[l.trim()],neighborhood:[A.trim(),[a.kI.required]],city:[t.city.trim(),[a.kI.required]],state:[t.state.trim(),[a.kI.required]]})}updateUserInfo(){this.spinner.show();const t=this.personalInfoForm.getRawValue(),r={...this.user,firstName:t.name,lastName:t.lastName,email:t.email,phone:t.phone};this.authService.updateUserData(r),this.personalInfoForm.markAsPristine(),this.spinner.hide()}updateAddresses(){this.authService.updateAddresses(this.addresses)}onEditAddress(t,r){this.addressesData.controls[r]=this.setAddress(t),this.addresses.push(t),this.updateAddresses()}addNewAddress(){this.dialog.open(Z.T,{width:"50%"}).afterClosed().subscribe(r=>{if(r){const n={city:r.city,postalCode:r.zipCode,state:r.state,address:`${r.street} - ${r.complement} - ${r.neighborhood}`};this.addressesData.controls.push(this.setAddress(n)),this.addresses.push(n),this.updateAddresses()}})}}m.\u0275fac=function(t){return new(t||m)(e.Y36(U.uw),e.Y36(a.qu),e.Y36(v.e8),e.Y36(x.o))},m.\u0275cmp=e.Xpm({type:m,selectors:[["ng-component"]],decls:44,vars:9,consts:[[1,"user-container"],["role","form",3,"formGroup","ngSubmit"],[1,"user-data-container","mat-elevation-z5"],[1,"row"],["id","name-field"],["type","text","matInput","","formControlName","name","placeholder","Enter your name"],[4,"ngIf"],["id","lastname-field"],["type","text","matInput","","formControlName","lastName","placeholder","Enter your last name"],["id","email-field"],["type","email","matInput","","formControlName","email","placeholder","Enter your email"],["id","phone-field"],["matTextPrefix",""],["type","tel","matInput","","formControlName","phone","placeholder","Enter your phone","mask","(00) 00000-0000||(00) 0000-0000"],["formControlName","newsLetter","color","primary"],[1,"submit-button"],["mat-flat-button","","color","primary","type","submit",3,"disabled"],["role","form",3,"formGroup"],[1,"user-addresses","mat-elevation-z5"],[1,"title"],["mat-mini-fab","","color","primary",3,"click"],[1,"address-list"],[3,"addressData","onEditAddress",4,"ngFor","ngForOf"],[3,"addressData","onEditAddress"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"form",1),e.NdJ("ngSubmit",function(){return r.updateUserInfo()}),e.TgZ(2,"div",2)(3,"h1"),e._uU(4,"Personal Information"),e.qZA(),e.TgZ(5,"div",3)(6,"mat-form-field",4)(7,"mat-label"),e._uU(8,"Name"),e.qZA(),e._UZ(9,"input",5),e.YNc(10,N,4,0,"mat-error",6),e.qZA(),e.TgZ(11,"mat-form-field",7)(12,"mat-label"),e._uU(13,"Last Name"),e.qZA(),e._UZ(14,"input",8),e.YNc(15,q,4,0,"mat-error",6),e.qZA()(),e.TgZ(16,"mat-form-field",9)(17,"mat-label"),e._uU(18,"Email"),e.qZA(),e._UZ(19,"input",10),e.YNc(20,F,2,0,"mat-error",6),e.YNc(21,b,4,0,"mat-error",6),e.qZA(),e.TgZ(22,"mat-form-field",11)(23,"mat-label"),e._uU(24,"Phone"),e.qZA(),e.TgZ(25,"span",12),e._uU(26,"+55"),e.qZA(),e._UZ(27,"input",13),e.YNc(28,E,4,0,"mat-error",6),e.qZA(),e.TgZ(29,"mat-checkbox",14),e._uU(30," I want to receive a newsletter into my email "),e.qZA(),e.TgZ(31,"div",15)(32,"button",16),e._uU(33," Update my info "),e.qZA()()()(),e.TgZ(34,"form",17)(35,"div",18)(36,"div",19)(37,"h1"),e._uU(38,"Addresses"),e.qZA(),e.TgZ(39,"button",20),e.NdJ("click",function(){return r.addNewAddress()}),e.TgZ(40,"mat-icon"),e._uU(41,"add"),e.qZA()()(),e.TgZ(42,"div",21),e.YNc(43,w,1,1,"address-tile",22),e.qZA()()()()),2&t&&(e.xp6(1),e.Q6J("formGroup",r.personalInfoForm),e.xp6(9),e.Q6J("ngIf",r.personalInfoForm.get("name").hasError("required")),e.xp6(5),e.Q6J("ngIf",r.personalInfoForm.get("lastName").hasError("required")),e.xp6(5),e.Q6J("ngIf",r.personalInfoForm.get("email").hasError("email")&&!r.personalInfoForm.get("email").hasError("required")),e.xp6(1),e.Q6J("ngIf",r.personalInfoForm.get("email").hasError("required")),e.xp6(7),e.Q6J("ngIf",r.personalInfoForm.get("phone").hasError("required")),e.xp6(4),e.Q6J("disabled",r.personalInfoForm.invalid||!r.personalInfoForm.dirty),e.xp6(2),e.Q6J("formGroup",r.addressesForm),e.xp6(9),e.Q6J("ngForOf",r.addressesData.controls))},dependencies:[c.sg,c.O5,I.Hw,h.lW,h.nh,y.Nt,u.KE,u.hX,u.TO,u.qo,T.oG,a._Y,a.Fj,a.JJ,a.JL,a.sg,a.u,C.g,g.Z6],styles:[".user-container{width:100%;min-height:calc(100vh - 164px);display:flex;flex-direction:row;justify-content:space-around;align-items:flex-start}  .user-container form{width:45%!important}  .user-container form .user-data-container,   .user-container form .user-addresses{position:relative;width:100%;min-height:500px;padding:20px;display:flex;flex-direction:column;align-items:flex-start;gap:10px}  .user-container form .user-data-container h1,   .user-container form .user-addresses h1{font-weight:800}  .user-container form .user-data-container .submit-button,   .user-container form .user-addresses .submit-button{margin-top:auto;align-self:center}  .user-container form .user-data-container .row{display:flex;flex-direction:row;justify-content:space-between;align-items:center;width:100%;gap:20px}  .user-container form .user-data-container .row mat-form-field{width:45%!important}  .user-container form .user-data-container mat-form-field{width:100%}  .user-container form .user-data-container mat-form-field#phone-field .mat-mdc-form-field-text-prefix{padding-right:10px!important}  .user-container form .user-addresses{max-height:700px}  .user-container form .user-addresses .title{width:100%;display:flex;justify-content:space-between;align-items:center}  .user-container form .user-addresses .address-list{width:100%;max-height:600px;overflow-x:hidden;overflow-y:auto;display:flex;flex-direction:column;padding:5px 10px;gap:.5rem}  .user-container form .user-addresses .address-list::-webkit-scrollbar{display:hidden}"]});const J=[{path:"",component:m}];class i{}i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[f.Bz.forChild(J),f.Bz]});var Y=s(9575),Q=s(6385);class d{}d.\u0275fac=function(t){return new(t||d)},d.\u0275mod=e.oAB({type:d}),d.\u0275inj=e.cJS({providers:[(0,g.e$)()],imports:[Y.m,i,Q.AccountModule]})}}]);